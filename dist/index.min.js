"use strict";var mysql=require("mysql"),express=require("express"),exphbs=require("express-handlebars"),session=require("express-session"),bodyParser=require("body-parser"),path=require("path"),response=require("express"),_require=require("http"),request=_require.request;require("dotenv").config();var connection=mysql.createConnection({host:"localhost",user:"root",password:"MohammedAimon@41",database:"stock_ease"});connection.connect(function(e){if(e)throw e;console.log("connected")});var app=express(),port=process.env.PORT||5e3;app.set("view-engine","ejs"),app.use(session({secret:"secret",resave:!0,saveUninitialized:!0})),app.use(bodyParser.urlencoded({extended:!0})),app.use(bodyParser.json()),app.use(express.static("views")),app.use(express.static("styles")),app.use(express.static("assets")),app.set("views","./views"),app.set("view engine","ejs"),app.get("",function(e,s){s.render("home")}),app.get("/home",function(e,s){s.render("home")}),app.get("/login",function(e,s){s.render("login")}),app.get("/register",function(e,s){s.render("register")}),app.get("/homeadmin",function(e,s){s.render("homeadmin")}),app.get("/homemanager",function(e,s){s.render("homemanager")}),app.post("/auth",function(r,o){var a=r.body.username,e=r.body.password;a&&e?connection.query("select * from manager where username = ? and password = ?",[a,e],function(e,s,n){0<s.length?(r.session.loggedin=!0,r.session.username=a,o.redirect("homemanager")):o.send("Incorrect Username and/or Password!"),o.end()}):(o.send("Please enter a Username and Password!"),o.end())}),app.post("/auth1",function(r,o){var a=r.body.username1,e=r.body.password1;a&&e?connection.query("select * from admin where username = ? and password = ?",[a,e],function(e,s,n){0<s.length?(r.session.loggedin=!0,r.session.username=a,o.redirect("homeadmin")):o.send("Incorrect Username and/or Password!"),o.end()}):(o.send("Please enter a Username and Password!"),o.end())}),app.listen(port,function(){return console.log("Listening on port ".concat(port))});
//# sourceMappingURL=index.min.js.map
